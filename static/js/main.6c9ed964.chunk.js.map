{"version":3,"sources":["components/bookstore-service-context/bookstore-service-context.js","services/service.js","reducers/bookList.js","reducers/shoppingCart.js","reducers/shoppingHeader.js","reducers/index.js","store.js","components/hoc/index.js","components/hoc/withBookstoreService.js","actions/index.js","components/shop-header/shop-header.js","components/shop-header/index.js","utils/index.js","components/book-list-item/index.js","components/book-list-item/book-list-item.js","components/spinner/index.js","components/spinner/spinner.js","components/error-indicator/index.js","components/error-indicator/error-indicator.js","components/book-list/book-list.js","components/book-list/index.js","components/shopping-cart-table/shopping-cart-table.js","components/shopping-cart-table/index.js","components/pages/home-page.js","components/pages/cart-page.js","components/app/index.js","components/app/app.js","components/error-boundry/error-boundry.js","components/error-boundry/index.js","assets/fontAwesomeIcons.js","index.js"],"names":["React","createContext","BookstoreServiceProvider","Provider","BookstoreServiceConsumer","Consumer","bookstoreService","data","id","title","author","price","coverImage","getBooks","Promise","resolve","reject","setTimeout","Math","random","Error","initialState","bookList","books","loading","error","updateBookList","state","action","type","payload","shoppingCart","cartItems","updateCartItems","newItem","idx","count","slice","updateOrder","bookId","quantity","book","find","itemIndex","findIndex","item","total","updateCartItem","updateShoppingCart","headerCart","totalOrdersInCart","orderTotal","updateOrdersInCart","string","forEach","el","push","reduce","a","b","updateShoppingHeader","reducer","store","createStore","withBookstoreService","Wrapped","props","bookAddedToCart","fetchBooks","dispatch","then","catch","err","mapDispatchToProps","getTotalOrdersInCart","getOrderTotal","ShopHeader","connect","useEffect","className","to","icon","compose","func","comp","reduceRight","wrapped","f","BookListItem","onAddedToCart","src","alt","onClick","Spinner","ErrorIndicator","console","log","BookList","map","onIncrease","onDecrease","onDelete","ShoppingCartTable","HomePage","CartPage","App","role","exact","path","render","component","ErrorBoundry","hasError","errorInfo","this","setState","children","Component","library","add","fas","faShoppingCart","faTrash","faPlus","faMinus","ReactDOM","value","document","getElementById"],"mappings":"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","file":"static/js/main.6c9ed964.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst {\r\n\tProvider: BookstoreServiceProvider,\r\n\tConsumer: BookstoreServiceConsumer\r\n} = React.createContext()\r\n\r\nexport {BookstoreServiceProvider, BookstoreServiceConsumer}","export const bookstoreService = {\r\n\tdata: [\r\n\t\t{\r\n\t\t\tid: 1,\r\n\t\t\ttitle: 'Production-Ready Microservices',\r\n\t\t\tauthor: 'Susan J. Fowler',\r\n\t\t\tprice: 32,\r\n\t\t\tcoverImage: 'https://images-na.ssl-images-amazon.com/images/I/41yJ75gpV-L._SX381_BO1,204,203,200_.jpg'\r\n\t\t},\r\n\t\t{\r\n\t\t\tid: 2,\r\n\t\t\ttitle: 'Release It!',\r\n\t\t\tauthor: 'Michael T. Nygard',\r\n\t\t\tprice: 45,\r\n\t\t\tcoverImage: 'https://images-na.ssl-images-amazon.com/images/I/414CRjLjwgL._SX403_BO1,204,203,200_.jpg'\r\n\t\t}\r\n\t],\r\n\tgetBooks() {\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tif (Math.random() > 0.95) {\r\n\t\t\t\t\treject(new Error('Something bad happened'))\r\n\t\t\t\t} else {\r\n\t\t\t\t\tresolve(this.data)\r\n\t\t\t\t}\r\n\t\t\t}, 700)\r\n\t\t})\r\n\t}\r\n}","const initialState = {\r\n\tbookList: {\r\n\t\tbooks: [],\r\n\t\tloading: true,\r\n\t\terror: null\r\n\t}\r\n}\r\n\r\nconst updateBookList = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\r\n\t\tcase 'FETCH_BOOKS_REQUEST':\r\n\t\t\treturn {\r\n\t\t\t\tbooks: [],\r\n\t\t\t\tloading: true,\r\n\t\t\t\terror: null\r\n\t\t\t}\r\n\r\n\t\tcase 'FETCH_BOOKS_SUCCESS':\r\n\t\t\treturn {\r\n\t\t\t\tbooks: action.payload,\r\n\t\t\t\tloading: false,\r\n\t\t\t\terror: null\r\n\t\t\t}\r\n\r\n\t\tcase 'FETCH_BOOKS_FAILURE':\r\n\t\t\treturn {\r\n\t\t\t\tbooks: [],\r\n\t\t\t\tloading: false,\r\n\t\t\t\terror: action.payload\r\n\t\t\t}\r\n\r\n\t\tdefault:\r\n\t\t\treturn state.bookList\r\n\t}\r\n}\r\n\r\nexport default updateBookList","const initialState = {\r\n\tshoppingCart: {\r\n\t\tcartItems: []\r\n\t}\r\n}\r\n\r\nconst updateCartItem = (book, item = {}, quantity) => {\r\n\tconst { id = book.id, count = 0, title = book.title, total = 0 } = item\r\n\r\n\treturn {\r\n\t\tid,\r\n\t\ttitle,\r\n\t\tcount: count + quantity,\r\n\t\ttotal: total + quantity * book.price,\r\n\t}\r\n}\r\n\r\nconst updateCartItems = (cartItems, newItem, idx) => {\r\n\tif (newItem.count === 0) {\r\n\t\treturn [\r\n\t\t\t...cartItems.slice(0, idx),\r\n\t\t\t...cartItems.slice(idx + 1)\r\n\t\t]\r\n\t}\r\n\r\n\tif (idx === -1) {\r\n\t\treturn [\r\n\t\t\t...cartItems,\r\n\t\t\tnewItem\r\n\t\t]\r\n\t}\r\n\r\n\treturn [\r\n\t\t...cartItems.slice(0, idx),\r\n\t\tnewItem,\r\n\t\t...cartItems.slice(idx + 1)\r\n\t]\r\n}\r\n\r\nconst updateOrder = (state, bookId, quantity) => {\r\n\tconst { bookList: { books }, shoppingCart: { cartItems } } = state\r\n\r\n\tconst book = books.find(({ id }) => id === bookId)\r\n\tconst itemIndex = cartItems.findIndex(({ id }) => id === bookId)\r\n\tconst item = cartItems[itemIndex]\r\n\r\n\tconst newItem = updateCartItem(book, item, quantity)\r\n\r\n\treturn {\r\n\t\tcartItems: updateCartItems(cartItems, newItem, itemIndex),\r\n\t}\r\n}\r\n\r\nconst updateShoppingCart = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase 'BOOK_ADDED_TO_CART':\r\n\t\t\treturn updateOrder(state, action.payload, 1)\r\n\r\n\t\tcase 'BOOK_REMOVED_FROM_CART':\r\n\t\t\treturn updateOrder(state, action.payload, -1)\r\n\r\n\t\tcase 'ALL_BOOKS_REMOVED_FROM_CART':\r\n\t\t\tconst item = state.shoppingCart.cartItems.find(({ id }) => id === action.payload)\r\n\t\t\treturn updateOrder(state, action.payload, -item.count)\r\n\r\n\t\tdefault:\r\n\t\t\treturn state.shoppingCart\r\n\r\n\t}\r\n}\r\n\r\nexport default updateShoppingCart","const initialState = {\r\n\theaderCart: {\r\n\t\ttotalOrdersInCart: 0,\r\n\t\torderTotal: 0\r\n\t}\r\n}\r\n\r\nconst updateOrdersInCart = (state, string) => {\r\n\tconst { shoppingCart: { cartItems } } = state\r\n\tconst total = []\r\n\r\n\tswitch (string) {\r\n\t\tcase 'TOTAL_ORDERS_IN_CART':\r\n\t\t\tcartItems.forEach(el => {\r\n\t\t\t\ttotal.push(el.count)\r\n\t\t\t})\r\n\t\t\treturn {\r\n\t\t\t\t...state.headerCart,\r\n\t\t\t\ttotalOrdersInCart: total.reduce((a, b) => a + b, 0)\r\n\t\t\t}\r\n\r\n\t\tcase 'ORDER_TOTAL':\r\n\t\t\tcartItems.forEach(el => {\r\n\t\t\t\ttotal.push(el.total)\r\n\t\t\t})\r\n\t\t\treturn {\r\n\t\t\t\t...state.headerCart,\r\n\t\t\t\torderTotal: total.reduce((a, b) => a + b, 0)\r\n\t\t\t}\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\nconst updateShoppingHeader = (state = initialState, action) => {\r\n\r\n\tswitch (action.type) {\r\n\r\n\t\tcase 'TOTAL_ORDERS_IN_CART':\r\n\t\t\treturn updateOrdersInCart(state, 'TOTAL_ORDERS_IN_CART')\r\n\r\n\t\tcase 'ORDER_TOTAL_IN_CART':\r\n\t\t\treturn updateOrdersInCart(state, 'ORDER_TOTAL')\r\n\r\n\t\tdefault:\r\n\t\t\treturn state.headerCart\r\n\t}\r\n}\r\n\r\nexport default updateShoppingHeader","import updateBookList from './bookList'\r\nimport updateShoppingCart from './shoppingCart'\r\nimport updateShoppingHeader from './shoppingHeader'\r\n\r\nconst reducer = (state, action) => {\r\n\r\n\t// case 'FETCH_BOOKS_REQUEST':\r\n\t// \treturn {\r\n\t// \t\t...state,\r\n\t// \t\tbooks: [],\r\n\t// \t\tloading: true,\r\n\t// \t\terror: null\r\n\t// \t}\r\n\t//\r\n\t// case 'FETCH_BOOKS_SUCCESS':\r\n\t// \treturn {\r\n\t// \t\t...state,\r\n\t// \t\tbooks: action.payload,\r\n\t// \t\tloading: false,\r\n\t// \t\terror: null\r\n\t// \t}\r\n\t//\r\n\t// case 'FETCH_BOOKS_FAILURE':\r\n\t// \treturn {\r\n\t// \t\t...state,\r\n\t// \t\tbooks: [],\r\n\t// \t\tloading: false,\r\n\t// \t\terror: action.payload\r\n\t// \t}\r\n\r\n\t// case 'BOOK_ADDED_TO_CART':\r\n\t// \treturn updateOrder(state, action.payload, 1)\r\n\t//\r\n\t// case 'BOOK_REMOVED_FROM_CART':\r\n\t// \treturn updateOrder(state, action.payload, -1)\r\n\t//\r\n\t// case 'ALL_BOOKS_REMOVED_FROM_CART':\r\n\t// \tconst item = state.cartItems.find(({ id }) => id === action.payload)\r\n\t// \treturn updateOrder(state, action.payload, -item.count)\r\n\r\n\treturn {\r\n\t\tbookList: updateBookList(state, action),\r\n\t\tshoppingCart: updateShoppingCart(state, action),\r\n\t\theaderCart: updateShoppingHeader(state, action)\r\n\t}\r\n}\r\n\r\nexport default reducer","import {createStore} from 'redux'\r\nimport reducer from './reducers'\r\n\r\n\r\nconst store = createStore(reducer)\r\n\r\nexport default store","import withBookstoreService from './withBookstoreService'\r\n\r\nexport default withBookstoreService","import {BookstoreServiceConsumer} from '../bookstore-service-context'\r\n\r\nconst withBookstoreService = () => (Wrapped) => {\r\n\treturn (props) => {\r\n\t\treturn (\r\n\t\t\t<BookstoreServiceConsumer>\r\n\t\t\t\t{\r\n\t\t\t\t\t(bookstoreService) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<Wrapped {...props} bookstoreService={bookstoreService} />\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t</BookstoreServiceConsumer>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default withBookstoreService","const booksRequested = () => {\r\n\treturn {\r\n\t\ttype: 'FETCH_BOOKS_REQUEST'\r\n\t}\r\n}\r\n\r\nconst booksLoaded = (newBooks) => {\r\n\treturn {\r\n\t\ttype: 'FETCH_BOOKS_SUCCESS',\r\n\t\tpayload: newBooks\r\n\t}\r\n}\r\n\r\nconst booksError = (error) => {\r\n\treturn {\r\n\t\ttype: 'FETCH_BOOKS_FAILURE',\r\n\t\tpayload: error\r\n\t}\r\n}\r\n\r\nexport const bookAddedToCart = (bookId) => {\r\n\treturn {\r\n\t\ttype: 'BOOK_ADDED_TO_CART',\r\n\t\tpayload: bookId\r\n\t}\r\n}\r\n\r\nexport const bookRemovedFromCart = (bookId) => {\r\n\treturn {\r\n\t\ttype: 'BOOK_REMOVED_FROM_CART',\r\n\t\tpayload: bookId\r\n\t}\r\n}\r\n\r\nexport const allBooksRemovedFromCart = (bookId) => {\r\n\treturn {\r\n\t\ttype: 'ALL_BOOKS_REMOVED_FROM_CART',\r\n\t\tpayload: bookId\r\n\t}\r\n}\r\n\r\nexport const getTotalOrdersInCart = () => {\r\n\treturn {\r\n\t\ttype: 'TOTAL_ORDERS_IN_CART'\r\n\t}\r\n}\r\n\r\nexport const getOrderTotal = () => {\r\n\treturn {\r\n\t\ttype: 'ORDER_TOTAL_IN_CART'\r\n\t}\r\n}\r\n\r\nexport const fetchBooks = (dispatch, bookstoreService) => () => {\r\n\tdispatch(booksRequested())\r\n\tbookstoreService.getBooks()\r\n\t\t.then((data) => dispatch(booksLoaded(data)))\r\n\t\t.catch((err) => dispatch(booksError(err)))\r\n}","import './shop-header.css'\r\nimport { connect } from 'react-redux'\r\nimport { NavLink } from 'react-router-dom'\r\nimport { useEffect } from 'react'\r\n\r\nimport { getOrderTotal, getTotalOrdersInCart } from '../../actions'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\n\r\n\r\nconst ShopHeader = ({ totalOrdersInCart, getTotalOrdersInCart, orderTotal, cartItems, getOrderTotal }) => {\r\n\r\n\tuseEffect(() => {\r\n\t\tgetTotalOrdersInCart()\r\n\t\tgetOrderTotal()\r\n\t}, [ cartItems ])\r\n\r\n\treturn (\r\n\t\t<header className='shop-header'>\r\n\t\t\t<NavLink to='/'>\r\n\t\t\t\t<div className='logo'>ReStore</div>\r\n\t\t\t</NavLink>\r\n\t\t\t<div className='shopping-cart'>\r\n\t\t\t\t<NavLink to='/cart'>\r\n\t\t\t\t\t<FontAwesomeIcon className='cart-icon' icon='shopping-cart'/>\r\n\t\t\t\t\t{ totalOrdersInCart } items (${ orderTotal })\r\n\t\t\t\t</NavLink>\r\n\t\t\t</div>\r\n\t\t</header>\r\n\t)\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\ttotalOrdersInCart: state.headerCart.totalOrdersInCart,\r\n\t\tcartItems: state.shoppingCart.cartItems,\r\n\t\torderTotal: state.headerCart.orderTotal\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n\tgetTotalOrdersInCart,\r\n\tgetOrderTotal\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ShopHeader)","import ShopHeader from './shop-header'\r\n\r\nexport default ShopHeader","const compose = (...func) => (comp) => {\r\n\treturn func.reduceRight(\r\n\t\t(wrapped, f) => f(wrapped), comp\r\n\t)\r\n}\r\n\r\nexport default compose","import BookListItem from './book-list-item'\r\n\r\nexport default BookListItem","import './book-list-item.css'\r\n\r\n\r\nconst BookListItem = ({ book, onAddedToCart }) => {\r\n\r\n\tconst { title, author, price, coverImage } = book\r\n\r\n\treturn (\r\n\t\t<div className='book-list-item'>\r\n\t\t\t<div className='book-cover'>\r\n\t\t\t\t<img src={ coverImage } alt='bookImage'/>\r\n\t\t\t</div>\r\n\t\t\t<div className='book-details'>\r\n\t\t\t\t<span className='book-title'>{ title }</span>\r\n\t\t\t\t<div className='book-author'>{ author }</div>\r\n\t\t\t\t<div className='book-price'>${ price }</div>\r\n\t\t\t\t<button onClick={ onAddedToCart } className='btn btn-info add-to-cart'>Add to cart</button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default BookListItem","import Spinner from './spinner'\r\n\r\nexport default Spinner","import './spinner.css'\r\n\r\n\r\nconst Spinner = () => {\r\n\treturn <div>Loading...</div>\r\n}\r\n\r\nexport default Spinner","import ErrorIndicator from './error-indicator'\r\n\r\nexport default ErrorIndicator","import './error-indicator.css'\r\n\r\n\r\nconst ErrorIndicator = ({ error }) => {\r\n\tconsole.log(error)\r\n\r\n\treturn <div>Error!</div>\r\n}\r\n\r\nexport default ErrorIndicator","import './book.list.css'\r\nimport { useEffect } from 'react'\r\nimport { connect } from 'react-redux'\r\n\r\nimport compose from '../../utils'\r\nimport { bookAddedToCart, fetchBooks } from '../../actions'\r\nimport withBookstoreService from '../hoc'\r\nimport BookListItem from '../book-list-item'\r\nimport Spinner from '../spinner';\r\nimport ErrorIndicator from '../error-indicator'\r\n\r\n\r\nconst BookList = ({ books, onAddedToCart }) => {\r\n\treturn (\r\n\t\t<ul className='book-list'>\r\n\t\t\t{\r\n\t\t\t\tbooks.map((book) => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<li key={ book.id }>\r\n\t\t\t\t\t\t\t<BookListItem book={ book } onAddedToCart={ () => onAddedToCart(book.id) }/>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t)\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t</ul>\r\n\t)\r\n}\r\n\r\nconst BookListContainer = ({ fetchBooks, books, error, loading, onAddedToCart }) => {\r\n\r\n\tuseEffect(() => {\r\n\t\tfetchBooks()\r\n\t}, [])\r\n\r\n\tif (loading) {\r\n\t\treturn <Spinner/>\r\n\t}\r\n\r\n\tif (error) {\r\n\t\treturn <ErrorIndicator/>\r\n\t}\r\n\r\n\treturn (\r\n\t\t<BookList books={ books } onAddedToCart={ onAddedToCart }/>\r\n\t)\r\n}\r\n\r\nconst mapStateToProps = ({ bookList: { books, loading, error } }) => {\r\n\treturn { books, loading, error }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch, { bookstoreService }) => {\r\n\treturn {\r\n\t\tfetchBooks: fetchBooks(dispatch, bookstoreService),\r\n\t\tonAddedToCart: (id) => dispatch(bookAddedToCart(id))\r\n\t}\r\n}\r\n\r\nexport default compose(\r\n\twithBookstoreService(),\r\n\tconnect(mapStateToProps, mapDispatchToProps)\r\n)(BookListContainer)","import BookList from './book-list'\r\n\r\nexport default BookList","import './shopping-cart-table.css'\r\nimport { connect } from 'react-redux'\r\n\r\nimport { allBooksRemovedFromCart, bookAddedToCart, bookRemovedFromCart } from '../../actions'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\n\r\n\r\nconst ShoppingCartTable = ({ cartItems, onDecrease, onIncrease, onDelete }) => {\r\n\r\n\tconst renderRow = (item, idx) => {\r\n\t\tconst { id, title, count, total } = item\r\n\t\treturn (\r\n\t\t\t<tr key={ id }>\r\n\t\t\t\t<td>{ idx + 1 }</td>\r\n\t\t\t\t<td>{ title }</td>\r\n\t\t\t\t<td>{ count }</td>\r\n\t\t\t\t<td>${ total }</td>\r\n\t\t\t\t<td>\r\n\t\t\t\t\t<button onClick={ () => onDecrease(id) } className=\"btn btn-outline-warning btn-sm float-right\">\r\n\t\t\t\t\t\t<FontAwesomeIcon icon='minus'/>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<button onClick={ () => onIncrease(id) } className=\"btn btn-outline-success btn-sm float-right\">\r\n\t\t\t\t\t\t<FontAwesomeIcon icon='plus'/>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<button onClick={ () => onDelete(id) } className=\"btn btn-outline-danger btn-sm float-right\">\r\n\t\t\t\t\t\t<FontAwesomeIcon icon='trash'/>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\t\t)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className='shopping-cart-table'>\r\n\t\t\t<h2>Your Order</h2>\r\n\t\t\t<table className=\"table\">\r\n\t\t\t\t<thead>\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<th>#</th>\r\n\t\t\t\t\t<th>Item</th>\r\n\t\t\t\t\t<th>Count</th>\r\n\t\t\t\t\t<th>Total</th>\r\n\t\t\t\t\t<th>Action</th>\r\n\t\t\t\t</tr>\r\n\t\t\t\t</thead>\r\n\t\t\t\t<tbody>\r\n\t\t\t\t{ cartItems.map(renderRow) }\r\n\t\t\t\t</tbody>\r\n\t\t\t</table>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nconst mapStateToProps = ({ shoppingCart: { cartItems } }) => {\r\n\treturn { cartItems }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n\tonIncrease: bookAddedToCart,\r\n\tonDecrease: bookRemovedFromCart,\r\n\tonDelete: allBooksRemovedFromCart\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ShoppingCartTable)","import ShoppingCartTable from './shopping-cart-table'\r\n\r\nexport default ShoppingCartTable","import BookList from '../book-list'\r\nimport ShoppingCartTable from '../shopping-cart-table'\r\n\r\nconst HomePage = () => {\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<BookList/>\r\n\t\t\t<ShoppingCartTable/>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default HomePage","const CartPage = () => {\r\n\treturn (\r\n\t\t<div>Cart page (in developing..)</div>\r\n\t)\r\n}\r\n\r\nexport default CartPage","import App from './app'\r\n\r\nexport default App","import { Route, Switch } from 'react-router-dom'\r\n\r\nimport withBookstoreService from '../hoc'\r\nimport ShopHeader from '../shop-header'\r\nimport { CartPage, HomePage } from '../pages'\r\n\r\n\r\nconst App = () => {\r\n\r\n\treturn (\r\n\t\t<main role='main' className='container'>\r\n\t\t\t<ShopHeader/>\r\n\t\t\t<Switch>\r\n\t\t\t\t<Route\r\n\t\t\t\t\texact path='/'\r\n\t\t\t\t\trender={ HomePage }\r\n\t\t\t\t/>\r\n\t\t\t\t<Route\r\n\t\t\t\t\tpath='/cart'\r\n\t\t\t\t\tcomponent={ CartPage }\r\n\t\t\t\t/>\r\n\t\t\t\t<Route\r\n\t\t\t\t\tpath='*'\r\n\t\t\t\t\trender={ () => 'not found' }/>\r\n\t\t\t</Switch>\r\n\t\t</main>\r\n\t)\r\n}\r\n\r\nexport default withBookstoreService()(App)","import { Component } from 'react'\r\nimport ErrorIndicator from '../error-indicator'\r\n\r\n\r\nexport default class ErrorBoundry extends Component {\r\n\r\n\tstate = {\r\n\t\thasError: false\r\n\t}\r\n\r\n\tcomponentDidCatch(error, errorInfo) {\r\n\t\tthis.setState({ hasError: true })\r\n\t}\r\n\r\n\trender() {\r\n\t\tif (this.state.hasError) return <ErrorIndicator/>\r\n\r\n\t\treturn this.props.children\r\n\t}\r\n}","import ErrorBoundry from './error-boundry'\r\n\r\nexport default ErrorBoundry","import { library } from '@fortawesome/fontawesome-svg-core'\r\nimport { fas } from '@fortawesome/free-solid-svg-icons'\r\nimport { faShoppingCart, faTrash, faPlus, faMinus } from '@fortawesome/free-solid-svg-icons'\r\n\r\nlibrary.add(fas, faShoppingCart, faTrash, faPlus, faMinus )","import ReactDOM from 'react-dom'\nimport { Provider } from 'react-redux'\nimport { BrowserRouter as Router } from 'react-router-dom'\n\nimport { BookstoreServiceProvider } from './components/bookstore-service-context'\nimport { bookstoreService } from './services'\nimport store from './store'\n\nimport App from './components/app'\nimport ErrorBoundry from './components/error-boundry'\n\nimport './assets/fontAwesomeIcons'\n\n\nReactDOM.render(\n\t<Provider store={ store }>\n\t\t<ErrorBoundry>\n\t\t\t<BookstoreServiceProvider value={ bookstoreService }>\n\t\t\t\t<Router>\n\t\t\t\t\t<App/>\n\t\t\t\t</Router>\n\t\t\t</BookstoreServiceProvider>\n\t\t</ErrorBoundry>\n\t</Provider>,\n\tdocument.getElementById('root')\n)\n\n"],"sourceRoot":""}